---
slug: development-tools
title: 开发效率工具
authors: [heliannuuthus]
tags: [Linux]
---

源自无数次系统崩溃重装的经验，总结了一些提高效率的工具([文章末尾](#一站式安装脚本)有一站式安装脚本)。

<!-- truncate -->

## 终端相关

### 命令行

1. 安装并配置 [zsh](https://www.zsh.org/) 以及 [autojump](https://github.com/wting/autojump)

```bash
sudo apt install zsh autojump -y && chsh -s /bin/zsh && exec zsh
```

2. 安装 [oh-my-zsh](https://ohmyz.sh/)

```bash
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

3. 安装主题 [powerlevel10k](https://github.com/romkatv/powerlevel10k)

```bash
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k
```

4. 安装插件 [zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)

```bash
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
```

5. 安装插件 [zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting)

```bash
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
```

6. 配置 zshrc

```bash
sed -i 's/^ZSH_THEME=.*/ZSH_THEME="powerlevel10k\/powerlevel10k"/' ~/.zshrc
sed -i 's/^plugins=.*/plugins=(git autojump zsh-autosuggestions zsh-syntax-highlighting)/' ~/.zshrc
```

## 日常开发相关

### Development Tools

#### [Java](https://www.java.com/) 开发环境

> 推荐使用 [Oracle JDK](https://www.oracle.com/java/technologies/downloads/)
> 最好是下载压缩包，方便后续切换版本（有 [IDEA](https://www.jetbrains.com/idea/) 的话切换倒是无所谓）

#### [Rust](https://www.rust-lang.org/) 开发环境

> 这里参考 [rsproxy](https://rsproxy.cn/) 的安装教程

1. 设置环境变量

```bash
sed -i 's/^RUSTUP_DIST_SERVER=.*/RUSTUP_DIST_SERVER="https://rsproxy.cn"/' ~/.zshrc
sed -i 's/^RUSTUP_UPDATE_ROOT=.*/RUSTUP_UPDATE_ROOT="https://rsproxy.cn\/rustup"/' ~/.zshrc
omz reload
```

2. 安装 Rust

```bash
curl --proto '=https' --tlsv1.2 -sSf https://rsproxy.cn/rustup-init.sh | sh
```

3. 更换 crates 源

- 创建 cargo 配置目录

```bash
mkdir -p ~/.cargo
```

- 配置 [rsproxy](https://rsproxy.cn/) 的 cargo 源

```bash
cat <<EOF >> ~/.cargo/config.toml
[source.crates-io]
replace-with = 'rsproxy-sparse'
[source.rsproxy]
registry = "https://rsproxy.cn/crates.io-index"
[source.rsproxy-sparse]
registry = "sparse+https://rsproxy.cn/index/"
[registries.rsproxy]
index = "https://rsproxy.cn/crates.io-index"
[net]
git-fetch-with-cli = true
EOF
```

#### [Python](https://www.python.org/) 开发环境

> 推荐使用 [pyenv](https://github.com/pyenv/pyenv) 管理 Python 版本

1. 安装 pyenv

```bash
curl https://pyenv.run | bash
```

2. 安装 Python

```bash
pyenv install 3.12.4
```

3. 配置环境变量

```bash
cat <<EOF >> ~/.zshrc
eval "$(pyenv init -)"
EOF
omz reload
```

4. 配置 pip 源

```bash
pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/
```

5. Python 虚拟环境

> 推荐使用 [venv](https://docs.python.org/zh-cn/3/library/venv.html) 创建虚拟环境，记得配套使用 [requirements.txt](https://pip.pypa.io/en/stable/cli/pip_install/#requirements-file) 指定依赖

```bash
python -m venv .venv
```

#### [NodeJS](https://nodejs.org/) 开发环境

推荐使用 [n](https://github.com/tj/n) 管理 NodeJS 版本

1. 安装 n

> 这里我们直接通过脚本安装，不依赖 npm

```bash
curl -L https://git.io/n-install | zs
```

2. 安装 Node.js

```bash
n lts
```

3. 安装 pnpm (可选)

```bash
npm install -g pnpm
```

4. 配置 pnpm 源 (可选)

```bash
pnpm config set registry https://registry.npmmirror.com
```

#### [Go](https://go.dev/) 开发环境

> 推荐使用 [gvm](https://github.com/moovweb/gvm) 管理 Go 版本

1. 安装前置依赖

```bash
sudo apt install bison
```

2. 安装 gvm

```bash
bash < <(curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer)
```

3. 安装 Go

```bash
gvm install go1.22.3
```

4. 切换 Go 版本

```bash
gvm use go1.22.3
```

5. 配置源

```bash
go env -w GOPROXY=https://goproxy.cn,direct
```

## 一站式安装脚本

```bash
cat <<EOF >> install.sh
#!/bin/bash

# 帮助信息
show_help() {
    echo "Usage: $0 [options]"
    echo "Options:"
    echo "  zsh    - 安装并配置 zsh、oh-my-zsh 及其插件"
    echo "  python - 配置 Python 开发环境，搭载 Python 3.12.4"
    echo "  go     - 配置 Go 开发环境，搭载 go1.22.3"
    echo "  node   - 配置 NodeJS 开发环境，搭载 NodeJS LTS 以及 pnpm"
    echo "  rust   - 配置 Rust 开发环境，使用 rsproxy 源"
    echo "  all    - 安装所有环境"
}

# zsh 安装配置
install_zsh() {
    echo "开始安装配置 zsh..."
    # 安装 zsh 和 autojump
    sudo apt install zsh autojump -y && chsh -s /bin/zsh

    # 安装 oh-my-zsh
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

    # 安装主题和插件
    git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k
    git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
    git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

    # 配置 zshrc
    sed -i 's/^ZSH_THEME=.*/ZSH_THEME="powerlevel10k\/powerlevel10k"/' ~/.zshrc
    sed -i 's/^plugins=.*/plugins=(git autojump zsh-autosuggestions zsh-syntax-highlighting)/' ~/.zshrc

    # 重新加载配置
    exec zsh
    echo "zsh 配置完成！"
}

# Python 环境配置
install_python() {
    echo "开始配置 Python 环境..."
    # 安装 pyenv
    curl https://pyenv.run | bash

    # 配置环境变量
    echo 'eval "$(pyenv init -)"' >> ~/.zshrc

    # 安装 Python
    pyenv install 3.12.4

    # 配置 pip 源
    pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/
    echo "Python 环境配置完成！"
}

# Go 环境配置
install_go() {
    echo "开始配置 Go 环境..."
    # 安装依赖
    sudo apt install bison -y

    # 安装 gvm
    bash < <(curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer)

    # 安装 Go
    source ~/.gvm/scripts/gvm
    gvm install go1.22.3
    gvm use go1.22.3

    # 配置源
    go env -w GOPROXY=https://goproxy.cn,direct
    echo "Go 环境配置完成！"
}

# NodeJS 环境配置
install_node() {
    echo "开始配置 NodeJS 环境..."
    # 安装 n
    curl -L https://git.io/n-install | zsh

    # 安装 Node.js
    n lts

    # 安装并配置 pnpm
    npm install -g pnpm
    pnpm config set registry https://registry.npmmirror.com
    echo "NodeJS 环境配置完成！"
}

# Rust 环境配置
install_rust() {
    echo "开始配置 Rust 环境..."
    # 设置环境变量
    echo 'export RUSTUP_DIST_SERVER="https://rsproxy.cn"' >> ~/.zshrc
    echo 'export RUSTUP_UPDATE_ROOT="https://rsproxy.cn/rustup"' >> ~/.zshrc

    # 安装 Rust
    curl --proto '=https' --tlsv1.2 -sSf https://rsproxy.cn/rustup-init.sh | sh

    # 配置 cargo 源
    mkdir -p ~/.cargo
    cat <<EOF >> ~/.cargo/config.toml
[source.crates-io]
replace-with = 'rsproxy-sparse'
[source.rsproxy]
registry = "https://rsproxy.cn/crates.io-index"
[source.rsproxy-sparse]
registry = "sparse+https://rsproxy.cn/index/"
[registries.rsproxy]
index = "https://rsproxy.cn/crates.io-index"
[net]
git-fetch-with-cli = true
EOF
    echo "Rust 环境配置完成！"
}

# 根据参数执行相应的安装
case "$1" in
    "zsh")
        install_zsh
        ;;
    "python")
        install_python
        ;;
    "go")
        install_go
        ;;
    "node")
        install_node
        ;;
    "rust")
        install_rust
        ;;
    "all")
        install_zsh
        install_python
        install_go
        install_node
        install_rust
        ;;
    *)
        show_help
        exit 1
        ;;
esac

echo "安装完成！"
EOF
```
